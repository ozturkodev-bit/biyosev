<!DOCTYPE html>
<html lang="tr">
<head>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-Q2XPK1TZNV"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-Q2XPK1TZNV');
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Biyoloji Çalışma Sayfası</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Montserrat:wght@700;800&display=swap" rel="stylesheet">
    <style>
        /* CSS Kodların BURADA AYNEN KALACAK */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Poppins', sans-serif; background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%); color: #333; min-height: 100vh; padding: 20px; }
        .container { max-width: 1200px; margin: 0 auto; padding: 20px; }
        header { text-align: center; margin-bottom: 40px; padding: 25px; background: linear-gradient(90deg, #2c3e50 0%, #4a6491 100%); border-radius: 15px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15); color: white; position: relative; overflow: hidden; }
        header::before { content: ""; position: absolute; top: 0; left: 0; width: 100%; height: 5px; background: linear-gradient(90deg, #1abc9c, #3498db); }
        h1 { font-family: 'Montserrat', sans-serif; font-size: 2.8rem; font-weight: 800; margin-bottom: 10px; letter-spacing: 1px; }
        .subtitle { font-size: 1.2rem; opacity: 0.9; max-width: 800px; margin: 0 auto; line-height: 1.6; }
        .class-container { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 25px; margin-bottom: 40px; align-items: start; }
        .class-card { background: white; border-radius: 15px; overflow: hidden; box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1); transition: all 0.3s ease; height: 100%; display: flex; flex-direction: column; }
        .class-card:hover { transform: translateY(-5px); box-shadow: 0 15px 30px rgba(0, 0, 0, 0.2); }
        .class-header { padding: 20px; text-align: center; color: white; position: relative; }
        .class-9 .class-header { background: linear-gradient(135deg, #3498db 0%, #2980b9 100%); }
        .class-10 .class-header { background: linear-gradient(135deg, #2ecc71 0%, #27ae60 100%); }
        .class-11 .class-header { background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%); }
        .class-12 .class-header { background: linear-gradient(135deg, #9b59b6 0%, #8e44ad 100%); }
        .class-icon { font-size: 2.2rem; margin-bottom: 10px; }
        .class-title { font-family: 'Montserrat', sans-serif; font-size: 1.6rem; font-weight: 700; }
        .class-subtitle { font-size: 0.9rem; opacity: 0.9; }
        .class-content { padding: 20px; flex-grow: 1; }
        .topic-list { list-style-type: none; }
        .topic-list li { padding: 12px 15px; margin-bottom: 10px; background-color: #f8f9fa; border-radius: 8px; border-left: 4px solid #3498db; transition: all 0.2s ease; display: flex; align-items: center; cursor: pointer; }
        .class-9 .topic-list li { border-left-color: #3498db; }
        .class-10 .topic-list li { border-left-color: #2ecc71; }
        .class-11 .topic-list li { border-left-color: #e74c3c; }
        .class-12 .topic-list li { border-left-color: #9b59b6; }
        .topic-list li:hover { background-color: #edf2f7; transform: translateX(5px); }
        .topic-list i { margin-right: 10px; font-size: 1.1rem; width: 20px; text-align: center; }
        .class-9 .topic-list i { color: #3498db; } .class-10 .topic-list i { color: #2ecc71; } .class-11 .topic-list i { color: #e74c3c; } .class-12 .topic-list i { color: #9b59b6; }
        .class-feedback .class-header { background: linear-gradient(135deg, #f39c12 0%, #d35400 100%); }
        .feedback-content { display: flex; flex-direction: column; gap: 20px; }
        .form-group { margin-bottom: 12px; }
        .form-label { display: block; margin-bottom: 5px; font-weight: 600; color: #2c3e50; font-size: 0.85rem; }
        .form-input, .form-textarea { width: 100%; padding: 10px; border: 2px solid #e0e0e0; border-radius: 8px; font-family: 'Poppins', sans-serif; font-size: 0.9rem; transition: border-color 0.3s; background-color: #f9f9f9; }
        .form-input:focus, .form-textarea:focus { border-color: #f39c12; outline: none; background-color: white; }
        .contact-textarea { resize: vertical; min-height: 80px; }
        .btn-submit { background: linear-gradient(135deg, #f39c12 0%, #d35400 100%); color: white; border: none; padding: 12px; border-radius: 8px; font-weight: 600; cursor: pointer; transition: transform 0.2s, box-shadow 0.2s; width: 100%; font-family: 'Montserrat', sans-serif; display: flex; align-items: center; justify-content: center; gap: 8px; }
        .btn-submit:hover { transform: translateY(-2px); box-shadow: 0 5px 15px rgba(211, 84, 0, 0.3); background: linear-gradient(135deg, #e67e22 0%, #a04000 100%); }
        .btn-submit:disabled { opacity: 0.7; cursor: not-allowed; }
        .messages-title { font-size: 1rem; font-weight: 700; color: #d35400; margin-bottom: 10px; border-bottom: 2px solid #eee; padding-bottom: 5px; }
        .messages-container { max-height: 250px; overflow-y: auto; padding-right: 5px; }
        .messages-container::-webkit-scrollbar { width: 6px; }
        .messages-container::-webkit-scrollbar-track { background: #f1f1f1; border-radius: 4px; }
        .messages-container::-webkit-scrollbar-thumb { background: #f39c12; border-radius: 4px; }
        .message-card { background: #fff; border: 1px solid #eee; border-left: 4px solid #f39c12; border-radius: 8px; padding: 12px; margin-bottom: 12px; box-shadow: 0 2px 4px rgba(0,0,0,0.03); animation: fadeIn 0.5s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .message-header { display: flex; justify-content: space-between; margin-bottom: 6px; font-size: 0.8rem; color: #7f8c8d; }
        .message-author { font-weight: 700; color: #d35400; }
        .message-text { font-size: 0.9rem; line-height: 1.4; color: #34495e; word-wrap: break-word; }
        .footer { text-align: center; margin-top: 40px; padding: 20px; color: #7f8c8d; font-size: 0.9rem; border-top: 1px solid #ddd; }
        .logo { font-family: 'Montserrat', sans-serif; font-weight: 800; color: #2c3e50; font-size: 1.5rem; margin-bottom: 20px; display: flex; align-items: center; justify-content: center; }
        .logo i { color: #1abc9c; margin-right: 10px; font-size: 2rem; }
        @media (max-width: 768px) { .class-container { grid-template-columns: 1fr; } h1 { font-size: 2.2rem; } .subtitle { font-size: 1rem; } }
    </style>
    
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
</head>
<body>
    <div class="container">
        <div class="logo"><i class="fas fa-dna"></i> BİYOSEV</div>
        <header>
            <h1>BİYOLOJİ ÇALIŞMA SAYFASI</h1>
            <p class="subtitle">9. sınıftan 12. sınıfa kadar tüm biyoloji konularına ulaşın.</p>
        </header>
        <div class="class-container">


            <div class="class-card class-9">
  <div class="class-header">
    <div class="class-icon">
      <i class="fas fa-seedling"></i>
    </div>
    <h2 class="class-title">9. SINIF</h2>
    <p class="class-subtitle">Temel Biyoloji</p>
  </div>
  <div class="class-content">
    <ul class="topic-list">
      <li onclick="openTopic('https://ozturkodev-bit.github.io/biyosev/9ortakozellik')">
        <i class="fas fa-star-of-life"></i> Canlıların Ortak Özellikleri
      </li>
      <li onclick="openTopic('https://ozturkodev-bit.github.io/biyosev/9bilimselyontem')">
        <i class="fas fa-microscope"></i> Bilimsel Yöntem
      </li>
      <li onclick="openTopic('https://ozturkodev-bit.github.io/biyosev/9siniflandirma')">
        <i class="fas fa-sitemap"></i> Sınıflandırma
      </li>
      <li onclick="openTopic('https://ozturkodev-bit.github.io/biyosev/9_inorganik_maddeler.html')">
        <i class="fas fa-flask"></i> İnorganik Maddeler
      </li>
      <li onclick="openTopic('https://ozturkodev-bit.github.io/biyosev/9_karbonhidrat_yag_protein.html')">
        <i class="fas fa-hamburger"></i> Karbonhidrat,Yağ,Proteinler
      </li>
      <li onclick="openTopic('https://ozturkodev-bit.github.io/biyosev/9_Enzim_vitamin_nukleikasit.html')">
        <i class="fas fa-pills"></i> Enzim,Vitamin,Nükleik Asitler
      </li>
      <li onclick="openTopic('https://ozturkodev-bit.github.io/biyosev/9_Hucre_organeller.html')">
        <i class="fas fa-microscope"></i> Hücre ve Organeller
      </li>
      <li onclick="openTopic('https://ozturkodev-bit.github.io/biyosev/9_Madde_gecisleri.html')">
        <i class="fas fa-exchange-alt"></i> Hücre Zarında Madde Alışverişi
      </li>
    </ul>
  </div>
</div>
           <div class="class-card class-10">
  <div class="class-header">
    <div class="class-icon">
      <i class="fas fa-dna"></i>
    </div>
    <h2 class="class-title">10. SINIF</h2>
    <p class="class-subtitle">Biyolojik Süreçler ve Çevre</p>
  </div>
  <div class="class-content">
    <ul class="topic-list">
      <li onclick="openTopic('https://ozturkodev-bit.github.io/biyosev/10atp')">
        <i class="fas fa-vial"></i> ATP ve Enerji
      </li>
      <li onclick="openTopic('https://ozturkodev-bit.github.io/biyosev/10fotosentez')">
        <i class="fas fa-sun"></i> Fotosentez
      </li>
      <li onclick="openTopic('https://ozturkodev-bit.github.io/biyosev/10sindirim')">
        <i class="fas fa-lungs"></i> Sindirim Sistemi
      </li>
      <li onclick="openTopic('https://ozturkodev-bit.github.io/biyosev/10hucresel solunum')">
        <i class="fas fa-atom"></i> Hücresel Solunum
      </li>
      <li onclick="openTopic('https://ozturkodev-bit.github.io/biyosev/10fermantasyon')">
        <i class="fas fa-bread-slice"></i> Fermantasyon
      </li>
      <li onclick="openTopic('https://ozturkodev-bit.github.io/biyosev/10ekoloji')">
        <i class="fas fa-tree"></i> Ekosistem
      </li>
      <li onclick="openTopic('https://ozturkodev-bit.github.io/biyosev/10besinpiramidi')">
        <i class="fas fa-project-diagram"></i> Besin Piramidi ve Madde Döngüleri
      </li>
      <li onclick="openTopic('https://ozturkodev-bit.github.io/biyosev/10surdurulebilirlik')">
        <i class="fas fa-leaf"></i> Ekolojik Sürdürülebilirlik
      </li>
    </ul>
  </div>
</div>

           <div class="class-card class-11">
  <div class="class-header">
    <div class="class-icon">
      <i class="fas fa-brain"></i>
    </div>
    <h2 class="class-title">11. SINIF</h2>
    <p class="class-subtitle">İnsan Fizyolojisi</p>
  </div>
  <div class="class-content">
    <ul class="topic-list">
      <li onclick="openTopic('https://ozturkodev-bit.github.io/biyosev/11sinirsistemi')">
        <i class="fas fa-brain"></i> Sinir Sistemi
      </li>
      <li onclick="openTopic('https://ozturkodev-bit.github.io/biyosev/11endokrin')">
        <i class="fas fa-tint"></i> Endokrin Sistem
      </li>
      <li onclick="openTopic('https://ozturkodev-bit.github.io/biyosev/11duyu')">
        <i class="fas fa-eye"></i> Duyu Organları
      </li>
      <li onclick="openTopic('https://ozturkodev-bit.github.io/biyosev/11destek')">
        <i class="fas fa-bone"></i> Destek ve Hareket Sistemi
      </li>
      <li onclick="openTopic('https://ozturkodev-bit.github.io/biyosev/11sindirimsistemi')">
        <i class="fas fa-utensils"></i> Sindirim Sistemi
      </li>
      <li onclick="openTopic('https://ozturkodev-bit.github.io/biyosev/11dolasim')">
        <i class="fas fa-heartbeat"></i> Dolaşım Sistemi
      </li>
        <li onclick="openTopic('https://ozturkodev-bit.github.io/biyosev/11lenf')">
        <i class="fas fa-shield-virus"></i> Lenf ve Bağışıklık Sistemi
      </li>
      <li onclick="openTopic('https://ozturkodev-bit.github.io/biyosev/11solunum')">
        <i class="fas fa-lungs"></i> Solunum Sistemi
      </li>
      <li onclick="openTopic('https://ozturkodev-bit.github.io/biyosev/11uriner')">
        <i class="fas fa-filter"></i> Üriner Sistem
      </li>
      <li onclick="openTopic('https://ozturkodev-bit.github.io/biyosev/11uremegelisme')">
        <i class="fas fa-baby"></i> Üreme ve Gelişme
      </li>
      <li onclick="openTopic('https://ozturkodev-bit.github.io/biyosev/11komunite')">
        <i class="fas fa-users"></i> Komünite ve Popülasyon Ekolojisi
      </li>
    </ul>
  </div>
</div>

            <div class="class-card class-12">
  <div class="class-header">
    <div class="class-icon">
      <i class="fas fa-graduation-cap"></i>
    </div>
    <h2 class="class-title">12. SINIF</h2>
    <p class="class-subtitle">Genetik, Bitki Biyolojisi ve Metabolizma</p>
  </div>
  <div class="class-content">
    <ul class="topic-list">
      <li onclick="openTopic('https://ozturkodev-bit.github.io/biyosev/12nukleik')">
        <i class="fas fa-dna"></i> Nükleik Asitler
      </li>
      <li onclick="openTopic('https://ozturkodev-bit.github.io/biyosev/12proteinsentezi')">
        <i class="fas fa-cogs"></i> Protein Sentezi
      </li>
      <li onclick="openTopic('https://ozturkodev-bit.github.io/biyosev/12biyoteknoloji')">
        <i class="fas fa-dna"></i> Genetik Müh.
      </li>
      <li onclick="openTopic('https://ozturkodev-bit.github.io/biyosev/12enerjifotosentez')">
        <i class="fas fa-sun"></i> ATP ve Fotosentez
      </li>
      <li onclick="openTopic('https://ozturkodev-bit.github.io/biyosev/12hucreselsolunum')">
        <i class="fas fa-battery-full"></i> Hücresel Solunum
      </li>
      <li onclick="openTopic('https://ozturkodev-bit.github.io/biyosev/12bitkiseldokular')">
        <i class="fas fa-seedling"></i> Bitki Biyolojisi 1
      </li>
      <li onclick="openTopic('https://ozturkodev-bit.github.io/biyosev/12bitkisel_organ_hormon')">
        <i class="fas fa-leaf"></i> Bitki Biyolojisi 2
      </li>
      <li onclick="openTopic('https://ozturkodev-bit.github.io/biyosev/12bitkidehareketvefotoperiyodizm')">
        <i class="fas fa-tree"></i> Bitki Biyolojisi 3
      </li>
         <li onclick="openTopic('https://ozturkodev-bit.github.io/biyosev/12bitkidetasinimveureme')">
        <i class="fas fa-tree"></i> Bitki Biyolojisi 4
      </li>
      <li onclick="openTopic('')">
        <i class="fas fa-globe-americas"></i> Canlılar ve Çevre
      </li>
    </ul>
  </div>
</div>

            <div class="class-card class-feedback">
                <div class="class-header">
                    <div class="class-icon"><i class="fas fa-comments"></i></div>
                    <h2 class="class-title">ZİYARETÇİ DEFTERİ</h2>
                    <p class="class-subtitle">Görüş ve Önerileriniz</p>
                </div>
                <div class="class-content feedback-content">
                    <div class="form-section">
                        <div class="form-group">
                            <label class="form-label">Adınız Soyadınız:</label>
                            <input type="text" id="guestName" class="form-input" placeholder="İsim giriniz...">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Mesajınız:</label>
                            <textarea id="guestMsg" class="form-textarea contact-textarea" placeholder="Buraya yazın..."></textarea>
                        </div>
                        <button class="btn-submit" id="sendBtn">
                            <i class="fas fa-paper-plane"></i> GÖNDER
                        </button>
                    </div>
                    <div class="messages-wrapper">
                        <h3 class="messages-title">Son Mesajlar</h3>
                        <div class="messages-container" id="messagesContainer">
                            <div style="text-align:center; color:#999; padding:10px;">Yükleniyor...</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="footer"><p>Biyoloji Çalışma Sayfası &copy; 2025 - Site Tasarımı Ö.S</p></div>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getFirestore, collection, addDoc, onSnapshot, query, where, orderBy, serverTimestamp } 
        from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

        
         const firebaseConfig = {
  apiKey: "AIzaSyDgKb8OUWeLzHrDhIMOjaMc4dGA_xAHhB0",
  authDomain: "biyosev-defter.firebaseapp.com",
  projectId: "biyosev-defter",
  storageBucket: "biyosev-defter.firebasestorage.app",
  messagingSenderId: "602079219548",
  appId: "1:602079219548:web:a99ff9ab2ad62fc8db3b99",
  measurementId: "G-3ECJQXN693"
};

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        const messagesRef = collection(db, "guestbook_messages");

       
        // EmailJS sitesi
        // ----------------------------------------------------
        const EMAIL_SERVICE_ID = "service_yik3lx5";  // Service ID
        const EMAIL_TEMPLATE_ID = "template_xeuts3u"; // Template ID
        const EMAIL_PUBLIC_KEY = "qHIHOyawexXIM3nZA"; // Public Key

        // EmailJS'i Başlat
        emailjs.init(EMAIL_PUBLIC_KEY);

        // --- GÖNDER BUTONU ---
        document.getElementById("sendBtn").addEventListener("click", async () => {
            const nameInput = document.getElementById("guestName");
            const msgInput = document.getElementById("guestMsg");
            const btn = document.getElementById("sendBtn");

            const name = nameInput.value.trim();
            const text = msgInput.value.trim();

            if (!name || !text) {
                alert("Lütfen hem adınızı hem de mesajınızı yazın!");
                return;
            }

            try {
                btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Gönderiliyor...';
                btn.disabled = true;

                // 1. ADIM: FIREBASE'E KAYDET
                await addDoc(messagesRef, {
                    author: name,
                    text: text,
                    status: "beklemede",
                    createdAt: serverTimestamp()
                });

                // 2. ADIM: MAIL GÖNDER (EmailJS)
                // Şablonundaki değişken isimleri (author, message) ile buradakiler aynı olmalı
                const emailParams = {
                    author: name,
                    message: text
                };

                // Mail göndermeyi dene ama hata verirse de kullanıcıyı korkutma
                emailjs.send(EMAIL_SERVICE_ID, EMAIL_TEMPLATE_ID, emailParams)
                    .then(() => {
                        console.log("Mail başarıyla gönderildi!");
                    })
                    .catch((error) => {
                        console.error("Mail gönderilemedi:", error);
                    });

                // Başarılı
                nameInput.value = "";
                msgInput.value = "";
                alert("Mesajınız başarıyla gönderildi! Yönetici onayından sonra yayınlanacaktır.");

            } catch (error) {
                console.error("Hata:", error);
                alert("Bir hata oluştu: " + error.message);
            } finally {
                btn.innerHTML = '<i class="fas fa-paper-plane"></i> GÖNDER';
                btn.disabled = false;
            }
        });

        // --- MESAJLARI LİSTELEME ---
        const q = query(messagesRef, where("status", "==", "onaylandi"), orderBy("createdAt", "desc"));

        onSnapshot(q, (snapshot) => {
            const container = document.getElementById("messagesContainer");
            container.innerHTML = "";

            if (snapshot.empty) {
                container.innerHTML = '<div style="text-align:center; padding:10px; color:#999; font-size:0.9rem;">Henüz yayınlanmış mesaj yok.</div>';
                return;
            }

            snapshot.forEach((doc) => {
                const data = doc.data();
                let dateStr = data.createdAt ? data.createdAt.toDate().toLocaleDateString("tr-TR") : "Az önce";
                const card = document.createElement("div");
                card.className = "message-card";
                card.innerHTML = `
                    <div class="message-header">
                        <span class="message-author">${escapeHtml(data.author)}</span>
                        <span class="message-date">${dateStr}</span>
                    </div>
                    <div class="message-text">${escapeHtml(data.text)}</div>
                `;
                container.appendChild(card);
            });
        });

        function escapeHtml(text) {
            if (!text) return "";
            return text.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;").replace(/'/g, "&#039;");
        }
        
       window.openTopic = function(url) {
    if(url && url !== '#') {
        window.location.href = url; // Yeni sekme yerine aynı sayfada gitmesi için bu kodu kullanıyoruz
    }
};

        document.addEventListener('DOMContentLoaded', function() {
            const cards = document.querySelectorAll('.class-card');
            cards.forEach((card, index) => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(20px)';
                setTimeout(() => {
                    card.style.transition = 'opacity 0.5s ease, transform 0.5s ease';
                    card.style.opacity = '1';
                    card.style.transform = 'translateY(0)';
                }, 100 * index);
            });
        });
    </script>
</body>
</html>
